


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>utilsx package &#8212; utilsx 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="readin functions" href="readin.html" />
    <link rel="prev" title="utilsx" href="modules.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="readin.html" title="readin functions"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="modules.html" title="utilsx"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">utilsx 0.0.1 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">utilsx</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">utilsx package</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="utilsx-package">
<h1>utilsx package<a class="headerlink" href="#utilsx-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-utilsx.opsys">
<span id="utilsx-opsys-module"></span><h3>utilsx.opsys module<a class="headerlink" href="#module-utilsx.opsys" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="utilsx.opsys.mv_file">
<code class="sig-prename descclassname">utilsx.opsys.</code><code class="sig-name descname">mv_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">folder</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/opsys.html#mv_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.opsys.mv_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-utilsx.pdfx">
<span id="utilsx-pdfx-module"></span><h3>utilsx.pdfx module<a class="headerlink" href="#module-utilsx.pdfx" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="utilsx.pdfx.call_parse_mn_weekly_report">
<code class="sig-prename descclassname">utilsx.pdfx.</code><code class="sig-name descname">call_parse_mn_weekly_report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">txt</span></em>, <em class="sig-param"><span class="n">pgs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/pdfx.html#call_parse_mn_weekly_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.pdfx.call_parse_mn_weekly_report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="utilsx.pdfx.clean_mn_weekly_report">
<code class="sig-prename descclassname">utilsx.pdfx.</code><code class="sig-name descname">clean_mn_weekly_report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_weeklypos</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/pdfx.html#clean_mn_weekly_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.pdfx.clean_mn_weekly_report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="utilsx.pdfx.parse_mn_weekly_report">
<code class="sig-prename descclassname">utilsx.pdfx.</code><code class="sig-name descname">parse_mn_weekly_report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pdf_name</span></em>, <em class="sig-param"><span class="n">txt</span></em>, <em class="sig-param"><span class="n">pgs</span></em>, <em class="sig-param"><span class="n">ws</span><span class="o">=</span><span class="default_value">101</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/pdfx.html#parse_mn_weekly_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.pdfx.parse_mn_weekly_report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="utilsx.pdfx.parse_pdf">
<code class="sig-prename descclassname">utilsx.pdfx.</code><code class="sig-name descname">parse_pdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">txt</span></em>, <em class="sig-param"><span class="n">pdf_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/pdfx.html#parse_pdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.pdfx.parse_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Note: calling this function requires the user to set up a file called
pdf_formatter.yml in their launch directory</p>
</dd></dl>

</div>
<div class="section" id="module-utilsx.preproc">
<span id="utilsx-preproc-module"></span><h3>utilsx.preproc module<a class="headerlink" href="#module-utilsx.preproc" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="utilsx.preproc.add_fips">
<code class="sig-prename descclassname">utilsx.preproc.</code><code class="sig-name descname">add_fips</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">fips_loc</span></em>, <em class="sig-param"><span class="n">left</span></em>, <em class="sig-param"><span class="n">right</span></em>, <em class="sig-param"><span class="n">level</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/preproc.html#add_fips"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.preproc.add_fips" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="utilsx.preproc.add_regions">
<code class="sig-prename descclassname">utilsx.preproc.</code><code class="sig-name descname">add_regions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">regions_loc</span></em>, <em class="sig-param"><span class="n">left</span></em>, <em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/preproc.html#add_regions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.preproc.add_regions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="utilsx.preproc.add_reportdate">
<code class="sig-prename descclassname">utilsx.preproc.</code><code class="sig-name descname">add_reportdate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/preproc.html#add_reportdate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.preproc.add_reportdate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="utilsx.preproc.add_state_names">
<code class="sig-prename descclassname">utilsx.preproc.</code><code class="sig-name descname">add_state_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">abbr_loc</span></em>, <em class="sig-param"><span class="n">left</span></em>, <em class="sig-param"><span class="n">right</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/preproc.html#add_state_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.preproc.add_state_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="utilsx.preproc.fix_headers">
<code class="sig-prename descclassname">utilsx.preproc.</code><code class="sig-name descname">fix_headers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">cols</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/preproc.html#fix_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.preproc.fix_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="utilsx.preproc.keep_only">
<code class="sig-prename descclassname">utilsx.preproc.</code><code class="sig-name descname">keep_only</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">cols</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/preproc.html#keep_only"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.preproc.keep_only" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="utilsx.preproc.load_dfs">
<code class="sig-prename descclassname">utilsx.preproc.</code><code class="sig-name descname">load_dfs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span></em>, <em class="sig-param"><span class="n">has_fips</span></em>, <em class="sig-param"><span class="n">has_reportdate</span></em>, <em class="sig-param"><span class="n">skiprows</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/preproc.html#load_dfs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.preproc.load_dfs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>has_fips: tuple (Boolean, str), indicates if the csv already has fips and</dt><dd><p>if so what the column name is for the fips column</p>
</dd>
<dt>has_reportdate: tuple (Boolean, Header, Date format), indicates if csv has</dt><dd><p>report date and if so column name of the column and the date format</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-utilsx.readin">
<span id="utilsx-readin-module"></span><h3>utilsx.readin module<a class="headerlink" href="#module-utilsx.readin" title="Permalink to this headline">¶</a></h3>
<p>Open and read files.</p>
<p>Functions associated with the process of finding, opening, or reading
files.</p>
<dl class="py function">
<dt id="utilsx.readin.check_last_load">
<code class="sig-prename descclassname">utilsx.readin.</code><code class="sig-name descname">check_last_load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">key_phrase</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/readin.html#check_last_load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.readin.check_last_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for last file loaded on GitHub.</p>
<p>Given a GitHub url and a dictionary with a regex pattern and
load date, will check for a file that is more recent than the
provided load date.</p>
<p>Regex pattern should identify a date pattern in the file name string.
Load date should be the most recent file a user previously downloaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – Github url where files are located.</p></li>
<li><p><strong>key_phrase</strong> (<em>dict</em>) – Dictionary with date regex pattern and last load date of most recent file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>url</strong> – URL for a more recent file or None if user previously downloaded most recent file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#utilsx.readin.date_in_str" title="utilsx.readin.date_in_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">utilsx.readin.date_in_str()</span></code></a>, <a class="reference internal" href="#utilsx.readin.scan_csv_list" title="utilsx.readin.scan_csv_list"><code class="xref py py-func docutils literal notranslate"><span class="pre">utilsx.readin.scan_csv_list()</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<p>Sample dictionary format</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{&quot;pattern&quot;:&quot;\d{4}-\d{2}-\d{2}&quot;, &quot;last_date&quot;:&quot;2020-08-31&quot;}
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="utilsx.readin.checkdir">
<code class="sig-prename descclassname">utilsx.readin.</code><code class="sig-name descname">checkdir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">folder</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/readin.html#checkdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.readin.checkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a directory.</p>
<p>Check to see if a directory exists and create
it if it does not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>folder</strong> (<em>str</em>) – Fully qualified path and folder name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">folder</span> <span class="o">=</span> <span class="s2">&quot;C:/Users/doejohn/Documents/MyDir&quot;</span>
<span class="o">&gt;</span> <span class="n">checkdir</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="utilsx.readin.date_in_str">
<code class="sig-prename descclassname">utilsx.readin.</code><code class="sig-name descname">date_in_str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pattern</span></em>, <em class="sig-param"><span class="n">prev_date</span></em>, <em class="sig-param"><span class="n">string</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/readin.html#date_in_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.readin.date_in_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract date from a string.</p>
<p>Given a string with a date pattern, extract the date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<em>regex</em>) – Regex date pattern (e.g., “d{4}-d{2}-d{2}”).</p></li>
<li><p><strong>prev_date</strong> (<em>str</em>) – Date to compare to date extracted with regex pattern (e.g., “2020-08-31”).</p></li>
<li><p><strong>string</strong> (<em>str</em>) – String with a date in it that will be extracted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Date match extracted from string if match is more recent than prev_date; otherwise returns None.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#utilsx.readin.check_last_load" title="utilsx.readin.check_last_load"><code class="xref py py-func docutils literal notranslate"><span class="pre">utilsx.readin.check_last_load()</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="utilsx.readin.file_signature">
<code class="sig-prename descclassname">utilsx.readin.</code><code class="sig-name descname">file_signature</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/readin.html#file_signature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.readin.file_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Get file format.</p>
<p>Try to return file format based on file signature.
May return multiple extensions if a file signature applies
to more than one (see <a class="reference internal" href="#filesig-reference-label"><span class="std std-ref">References</span></a>).
If no matching file signatures found, returns “unknown”.</p>
<p>Requirements: a YAML file with file formats and signatures to run.
The YAML should be called <a class="reference external" href="./fileformatyml.html">fileformat.yml</a> and saved in the <cite>utilsx</cite> package.</p>
<p>Sample <cite>fileformat.yml</cite> structure:</p>
<dl>
<dt>format description:</dt><dd><div class="line-block">
<div class="line">format: [“extension”]</div>
<div class="line">offset: 0</div>
<div class="line">signature: [“hexadecimal notation”]</div>
</div>
</dd>
</dl>
<p>Format description helps the user understand what file type(s) the data block applies to,
for example, MicroSoft Office.
Examples for “extension” are “xlsx”, “csv”, “xml”
inputs values for offset and the signature’s hexadecimal notation can be found
by referring to the <a class="reference external" href="https://filesignatures.net/index.php?search=json&amp;mode=EXT">File Signatures Directory</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>A typical fileformat.yml example is found <a class="reference external" href="./fileformatyml.html">here</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fpath</strong> (<em>str</em>) – Fully qualified file name (path+name).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>File format extension(s).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#utilsx.readin.get_fnames" title="utilsx.readin.get_fnames"><code class="xref py py-func docutils literal notranslate"><span class="pre">utilsx.readin.get_fnames()</span></code></a></p>
</div>
<p class="rubric" id="filesig-reference-label">References</p>
<p><a class="reference external" href="https://filesignatures.net/index.php?search=json&amp;mode=EXT">File Signature Directory</a></p>
<p><a class="reference external" href="https://www.garykessler.net/library/file_sigs.html">File Signatures</a></p>
<p><a class="reference external" href="https://hackernoon.com/determining-file-format-using-python-c4e7b18d4fc4">How to determine file format using Python</a></p>
</dd></dl>

<dl class="py function">
<dt id="utilsx.readin.get_absolute_path">
<code class="sig-prename descclassname">utilsx.readin.</code><code class="sig-name descname">get_absolute_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">doc_url</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/readin.html#get_absolute_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.readin.get_absolute_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Create absolute url.</p>
<p>Creates the full URL of the page that you want the link to
by combining the protocol, domain name and location following the root domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – Protocol (https) and root domain parts of the absolute url.</p></li>
<li><p><strong>doc_url</strong> (<em>str</em>) – Location following the root domain.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Absolute url (entire address).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The function returns an absolute url based on it’s protocol+domain name
and relative url.  An example of the components is shown below.</p>
<p>Absolute URL:</p>
<blockquote>
<div><p><a class="reference external" href="https://www.example.com/xyz.html">https://www.example.com/xyz.html</a></p>
</div></blockquote>
<p>Relative URL (i.e., this is the location following the domain):</p>
<blockquote>
<div><p>/xyz.html</p>
</div></blockquote>
<p>Domain name:</p>
<blockquote>
<div><p>www.example.com</p>
</div></blockquote>
<p>Protocol:</p>
<blockquote>
<div><p>https</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="utilsx.readin.get_fnames">
<code class="sig-prename descclassname">utilsx.readin.</code><code class="sig-name descname">get_fnames</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dpath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/readin.html#get_fnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.readin.get_fnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of file names.</p>
<p>Given a directory path, return a dictionary of file names.
The dictionary key-value structure is {file_name:[file_extension]}.
The file extension can later be used to identify file type or format if
needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dpath</strong> (<em>str</em>) – Directory path to be scanned for files.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary with file names as keys and file extension as values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#utilsx.readin.file_signature" title="utilsx.readin.file_signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">utilsx.readin.file_signature()</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt id="utilsx.readin.most_recent">
<code class="sig-prename descclassname">utilsx.readin.</code><code class="sig-name descname">most_recent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filedir</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/readin.html#most_recent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.readin.most_recent" title="Permalink to this definition">¶</a></dt>
<dd><p>Find most recent file in directory.</p>
<p>Scan files in a directory and return the most recently
modified file name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filedir</strong> (<em>str</em>) – Full directory path to scan.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Most recently modified file name.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="utilsx.readin.read_yaml">
<code class="sig-prename descclassname">utilsx.readin.</code><code class="sig-name descname">read_yaml</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">abort</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/readin.html#read_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.readin.read_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a yaml file.</p>
<p>Scan a yaml file for user specified data block and then
read that data block and return contents to user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>list</em>) – Two itemed list: (1) fully qualified path and name of yaml (2) data block header name.</p></li>
<li><p><strong>abort</strong> (<em>bool</em>) – True if program should exit upon error; False to continue running. (default is True).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Data block read from yaml; stored as a dictionary.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p><strong>Error Handling Options</strong></p>
<p>There are two options if an error is encountered during read.</p>
<ul class="simple">
<li><p>abort = True: calling program will exit (run aborts)</p></li>
<li><p>abort = False: continues running but will return False instead of a data block.</p></li>
</ul>
<p>If abort = False is used, user can error check returned value by verifying if False.</p>
<p class="rubric">Examples</p>
<p>The function reads a yaml and extarcts a data block based on a user-supplied
header name.  A sample yaml and example call are provided below.</p>
<p><strong>yaml sample structure</strong></p>
<dl>
<dt>MyHeader:</dt><dd><div class="line-block">
<div class="line">keyword1: &lt;some value&gt;</div>
<div class="line">keyword2: &lt;another value&gt;</div>
<div class="line">…</div>
<div class="line">…</div>
<div class="line">keywordn: &lt;last value&gt;</div>
</div>
</dd>
<dt>MyHeader2:</dt><dd><div class="line-block">
<div class="line">keyword1: &lt;some value&gt;</div>
<div class="line">keyword2: &lt;another value&gt;</div>
<div class="line">…</div>
<div class="line">…</div>
<div class="line">keywordn: &lt;last value&gt;</div>
</div>
</dd>
</dl>
<div class="line-block">
<div class="line">…</div>
<div class="line">…</div>
</div>
<dl>
<dt>MyHeaderN:</dt><dd><div class="line-block">
<div class="line">keyword1: &lt;some value&gt;</div>
<div class="line">keyword2: &lt;another value&gt;</div>
<div class="line">…</div>
<div class="line">…</div>
<div class="line">keywordn: &lt;last value&gt;</div>
</div>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note: keyword values can be strings, lists, dictionarys, numeric, etc.</p>
</div>
<p>Using the sample yaml above, you implement read_yaml as follows</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data_block</span> <span class="o">=</span> <span class="n">read_yaml</span><span class="p">([</span><span class="s2">&quot;Path/to/your/yaml.yml&quot;</span><span class="p">,</span><span class="s2">&quot;MyHeader1&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>This will return a dictionary with the key-value pairs from the MyHeader1
data block.</p>
</dd></dl>

<dl class="py function">
<dt id="utilsx.readin.scan_csv_list">
<code class="sig-prename descclassname">utilsx.readin.</code><code class="sig-name descname">scan_csv_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/readin.html#scan_csv_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.readin.scan_csv_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan list of files on GitHub.</p>
<p>Given a GitHub repo url, scan the list of files
and return urls for all CSV files found and the names
of those files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> (<em>str</em>) – GitHub repo url.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>urls</strong> (<em>list</em>) – List of urls ending in .csv.</p></li>
<li><p><strong>names</strong> (<em>list</em>) – List of .csv file names.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#utilsx.readin.check_last_load" title="utilsx.readin.check_last_load"><code class="xref py py-func docutils literal notranslate"><span class="pre">utilsx.readin.check_last_load()</span></code></a></p>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/60924860/python-get-list-of-csv-files-in-public-github-repository">Get list of CSVs from GitHub repo</a></p>
</dd></dl>

<dl class="py function">
<dt id="utilsx.readin.unicodify">
<code class="sig-prename descclassname">utilsx.readin.</code><code class="sig-name descname">unicodify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">seq</span></em>, <em class="sig-param"><span class="n">min_confidence</span><span class="o">=</span><span class="default_value">0.5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utilsx/readin.html#unicodify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utilsx.readin.unicodify" title="Permalink to this definition">¶</a></dt>
<dd><p>Check encoding and covert to unicode.</p>
<p>Take some raw data of unknown character encoding and ensure it is unicode
before further processing.  Helps avoid codec decode errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seq</strong> (<em>str</em>) – Raw text of unknown encoding.</p></li>
<li><p><strong>min_confidence</strong> (<em>float</em>) – Confidence level [0-1] for determining encoding. (default = 0.5)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raw data converted to Unicode.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/14856872/check-encoding-and-convert-to-unicode">Check encoding and convert to unicode</a></p>
</dd></dl>

</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">utilsx package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a><ul>
<li><a class="reference internal" href="#module-utilsx.opsys">utilsx.opsys module</a></li>
<li><a class="reference internal" href="#module-utilsx.pdfx">utilsx.pdfx module</a></li>
<li><a class="reference internal" href="#module-utilsx.preproc">utilsx.preproc module</a></li>
<li><a class="reference internal" href="#module-utilsx.readin">utilsx.readin module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="modules.html"
                          title="Previous page">&larr; utilsx</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="readin.html"
                          title="Next page">&rarr; readin functions</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/utilsx.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="readin.html" title="readin functions"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="modules.html" title="utilsx"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">utilsx 0.0.1 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="modules.html" >utilsx</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">utilsx package</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, FCA.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>